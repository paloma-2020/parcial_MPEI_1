;INCLUIR UN ARCHIVO DE CABECERA
; PARCIAL 1 PRIMER CORTE
; Estudiantes:
;Paloma Alvarez Peniche
;Laura daniela fandiño
 
.global _main
_main:
	MOV     #0X0800, W0
	MOV     W0, TRISB
        ;BCLR    TRISB, #0xA
        ;BCLR    TRISB, #0XB
        MOV        #0X0000, W0
        MOV        W0, PORTB
_bucle:
	MOV     #0XFFFF, W0
	MOV     W0,LATB
	CALL    DELAY1S
	MOV     #0X0000, W0
	MOV    W0, LATB
	CALL    DELAY1S
	GOTO    _bucle
	
DELAY1S:
        MOV        #1000,W0
REPETIR:
        DEC        W0, W1
        MOV        W1, W0
        BRA        Z, RETORNAR
        REPEAT  #5000
        NOP
        GOTO    REPETIR
RETORNAR:
        RETURN 
	
        
.END


;;;;;;;;;;;;;;;;;;;;; crecion de secuencias individuales
;INCLUIR UN ARCHIVO DE CABECERA
; PARCIAL 1 PRIMER CORTE
; Estudiantes:
;Paloma Alvarez Peniche
;Laura daniela fandiño
 
.global _main
_main:
	MOV     #0X0800, W0    ; Vector que describe como se va a comportar el PORTB 
	MOV     W0, TRISB      ; Declaracion de variables de entrada y salida 
        MOV        #0X0000, W0
        MOV        W0, PORTB
_bucle:
	CALL    _seq_dos    ; llama la secuencia que quiero evaluar
	GOTO    _bucle      
	
DELAY1S:
        MOV        #1000,W0
REPETIR:
        DEC        W0, W1
        MOV        W1, W0
        BRA        Z, RETORNAR
        REPEAT  #5000
        NOP
        GOTO    REPETIR
RETORNAR:
        RETURN 
_seq_cero:
        MOV     #0X0000, W0
	MOV     W0,LATB
	RETURN 
	
_seq_uno:
    	MOV	#0X3FF,	W0
    	MOV	W0, LATB
    	RETURN
    
_seq_dos:
        MOV     #0X5555,W0
	MOV     W0,LATB
	RETURN
	
_seq_tres:
    	MOV	#0X2AA,	W0
    	MOV	W0, LATB
    	RETURN
_seq_cuatro:
        MOV     #0X5555,W0
	MOV     W0,LATB
	CALL    DELAY1S
	MOV     #0XAAAA,W0
	MOV     W0,LATB
	CALL    DELAY1S
	RETURN
	
_seq_cinco:
    	MOV	#0X20,	W0
    	MOV W0, LATB
    	CALL DELAY1S
    	MOV #0X0,	W0
    	MOV W0, LATB
    	CALL DELAY1S
    	RETURN
_seq_seis:
	BSET    LATB, #0x0
	CALL    DELAY1S
	BCLR    LATB, #0x0
	BSET    LATB, #0x1
        CALL    DELAY1S
	BCLR    LATB, #0x1
	BSET    LATB, #0x2
	CALL    DELAY1S
	BCLR    LATB, #0x2
	BSET    LATB, #0x3
	CALL    DELAY1S
	BCLR    LATB, #0x3
	BSET    LATB, #0x4
	CALL    DELAY1S
	BCLR    LATB, #0x4
	BSET    LATB, #0x5
	CALL    DELAY1S
	BCLR    LATB, #0x5
	BSET    LATB, #0x6
	CALL    DELAY1S
	BCLR    LATB, #0x6
	BSET    LATB, #0x7
	CALL    DELAY1S
	BCLR    LATB, #0x7
	BSET    LATB, #0x8
	CALL    DELAY1S
	BCLR    LATB, #0x8
	BSET    LATB, #0x9
	CALL    DELAY1S
	BCLR    LATB, #0x9
	RETURN

_seq_6:
    	MOV #0X1, W2
    	MOV W2, LATB
    	CALL DELAY1S
_IZQ:
    	SL W2,W3
    	MOV W3, LATB
    	MOV W3,W2
    	CALL DELAY1S
    	BRA NC, RETORNAR
    	GOTO _IZQ
_seq_siete:
    	MOV #0X0200, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X0100, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X0080, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X40, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X020, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X010, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X020, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X8, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X4, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X2, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X1, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	MOV #0X0, W2
    	MOV W2, LATB
    	CALL DELAY1S
    	RETURN
    
_seq_ocho:
       MOV     #0X001F,W0
       MOV     W0, LATB
       CALL    DELAY1S
       MOV     #0X0000,W0
       MOV     W0, LATB
       MOV     #0X03E0,W1
       MOV     W1, LATB
       CALL    DELAY1S
       RETURN
       
 _seq_nueve:
	MOV     #0X0,W1
	MOV     W1, LATB
	CALL    DELAY1S
	MOV     #0X201,W1
	MOV     W1, LATB
	CALL    DELAY1S
	MOV     #0X102,W1
	MOV     W1, LATB
	CALL	DELAY1S
	MOV     #0X84,W1
	MOV     W1, LATB
	CALL    DELAY1S
	MOV     #0X48,W1
	MOV     W1, LATB
	CALL    DELAY1S
	MOV     #0X30,W1
	MOV     W1, LATB
	CALL    DELAY1S
	RETURN

.END



